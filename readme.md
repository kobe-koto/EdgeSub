# Edge Sub

åœ¨ CloudFlare çš„å…¨çƒç¶²çµ¡ä¸Šè½‰æ›æ‚¨çš„ç¯€é»è¨‚é–±.

## ä½¿ç”¨æ–¹å¼

- ### UI
  
  åœ¨ Cloudflare Pages éƒ¨ç½²å¾Œæ‰“é–‹ï¼Œä¸¦æŒ‰æç¤ºæ“ä½œã€‚

- ### Clash Meta

  Endpoint: `/sub/clash-meta`

  éœ€è¦ä»¥ä¸‹åƒæ•¸:

  - `url`: è¼¸å…¥çš„è¨‚é–±çš„é ç¨‹ä½å€
  - `remote_config` (å¯é¸): é ç«¯è¨­å®šä½å€ (INI æ ¼å¼), é»˜èªç‚º https://raw.githubusercontent.com/kobe-koto/EdgeSub/main/assets/minimal_remote_conf/basic.ini
  - `udp` (å¯é¸): é ç«¯è¨­å®šä½å€, é»˜èªç‚º true
  - `forced_refresh` (å¯é¸): æ˜¯å¦å¼·åˆ¶åˆ·æ–°å·²ç·©å­˜çš„é ç«¯è¨­å®š, é»˜èªç‚º false

- ### Debug

  > **âš ï¸ Warning**
  > 
  > è©²æ ¼å¼éš¨æ™‚å¯èƒ½ç™¼ç”Ÿè®Šæ›´, åƒ…ä¾›æ¸¬è©¦ç”¨é€”

  Endpoint: `/sub/debug`

  éœ€è¦ä»¥ä¸‹åƒæ•¸:

  - `url`: è¼¸å…¥çš„è¨‚é–±çš„é ç¨‹ä½å€

## éƒ¨ç½²

- ### åœ¨ Cloudflare Pages ä¸Šéƒ¨ç½²

  0. Fork æœ¬é …ç›®
  1. æ‰“é–‹ dash.cloudflare.com
  2. è½‰åˆ°å´é‚Šæ¬„ä¸Šçš„ **Workers & Pages** (Overview) éƒ¨åˆ†
  3. æŒ‰ä¸‹ **Create** æŒ‰éˆ•
  4. åˆ‡æ›åˆ° **Pages** æ¬„
  5. æŒ‰ **Connect to Git**
  6. é¸æ“‡ä½ å‰› Fork ä¸‹ä¾†çš„ EdgeSub é …ç›®
  7. åœ¨ **Build settings > Framework preset** ä¸­é¸æ“‡ Astro
  8. ç·¨è¼¯ **Build settings > Build command** ç‚º `pnpm build:frontend`
  9. æŒ‰ä¸‹ **Save and Deploy**
  10. éƒ¨ç½²å®Œæˆå¾Œï¼Œä½ å¯èƒ½éœ€è¦æ·»åŠ è‡ªè¨‚ç¶²åŸŸï¼Œè«‹å‰å¾€ **é …ç›® > Custom domains** æ·»åŠ 
  
  #### âœ¡ï¸ å¯é¸ - ç‚ºé ç«¯è¦å‰‡æ·»åŠ ç·©å­˜ä»¥åŠ å¿«è™•ç†é€Ÿåº¦:
  
  **éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé–‹ç™¼æ™‚æœƒä»¥å‡è¨­ç·©å­˜ KV å­˜åœ¨ä¾†é–‹ç™¼ï¼Œç„¡ç·©å­˜ KV ç’°å¢ƒå°‡ä½œç‚ºä½å„ªå…ˆç´šä¾†é–‹ç™¼ã€‚**
  
  **å› æ­¤ï¼Œä¸æ·»åŠ ç·©å­˜ KV æ˜¯ä¸è¢«æ¨è–¦çš„è¡Œç‚ºã€‚**
  
  1. è½‰åˆ° **Workers & Pages > KV**
  2. æŒ‰ **Create a namespacce**ï¼Œ**è¼¸å…¥ä»»æ„åå­—**ï¼Œç„¶å¾ŒæŒ‰ **Add**
  3. å›åˆ°é …ç›®
  4. è½‰åˆ° **Settings > Functions >  KV namespace bindings**
  5. æŒ‰ **Add binding**
  6. åœ¨ **Variable name** å¡«å¯« `EdgeSubDB`ï¼Œ**KV namespace** é¸æ“‡ä½ å‰›å»ºç«‹çš„ KV ç©ºé–“
  7. é»æŒ‰ **Save**
  8. è½‰åˆ°**é …ç›® > Deployments**
  9. åœ¨ **All deployments** ä¸­æ‰¾åˆ°æœ€è¿‘çš„ä¸€å€‹ Deploymentï¼Œç„¶å¾Œé»**å³å´ä¸‰å€‹é» > Retry Deployment**
  10. å®Œæˆ


## ç›¸å®¹æ€§è¡¨æ ¼

- ç¯€é»é¡å‹

  | é¡å‹         | æ”¯æ´ | å·²ç¶“æ¸¬è©¦ | Notes                                 |
  | ------------ | ---- | -------- | ------------------------------------- |
  | HTTP         | âœ…    | ğŸš«        |                                       |
  | Socks 5      | âœ…    | ğŸš«        |                                       |
  | Hysteria 1   | âœ…    | âœ…        |                                       |
  | Hysteria 2   | âœ…    | âœ…        |                                       |
  | TUIC v5      | âœ…    | âœ…        |                                       |
  | Vmess        | âœ…    | â˜‘ï¸        | æœªç¶“å®Œå…¨æ¸¬è©¦                          |
  | Vless        | âœ…    | â˜‘ï¸        | æœªç¶“å®Œå…¨æ¸¬è©¦                          |
  | Shadowsocks  | âœ…    | âœ…        | å…¨å±€è¨­å®šç‚ºé–‹å•“ UDP æ—¶æœƒé–‹å•“ UDP over TCP |
  | Trojan       | âœ…    | âœ…        |                                    |
  | WireGuard    | ğŸš«    | -        | ä¼¼ä¹æ²’æœ‰é€šç”¨çš„ ShareLink æ ¼å¼         |
  | ShadowsocksR | ğŸš«    | -        | æš«ç„¡è¨ˆåŠƒå¯¦ç¾                          |
  | SSH          | ğŸš«    | -        | æš«ç„¡è¨ˆåŠƒå¯¦ç¾                          |

- è¨‚é–±é¡å‹

  | é¡å‹                    | è¼¸å…¥ | è¼¸å‡º | è¼¸å‡º Endpoint     |
  | ----------------------- | ---- | ---- | ----------------- |
  | å…§éƒ¨é™¤éŒ¯ç”¨æ ¼å¼          | ğŸš«    | âœ…    | `/sub/debug`      |
  | ShareLink é›†åˆ          | âœ…    | âœ…    | `/sub/share-link` |
  | ShareLink é›†åˆ (Base64) | âœ…    | âœ…    | `/sub/base64`     |
  | Clash Meta é…ç½®         | âœ…    | âœ…    | `/sub/clash-meta` |
  | Clash é…ç½®              | âœ…    | âœ…    | `/sub/clash`      |
  | Sing-Box é…ç½®           | ğŸš«    | âœ…    | `/sub/sing-box`   |

  Notes:
  
  - **Clash Meta å’Œ Clash é…ç½®**: 
  
    - è¼¸å…¥: ç›®å‰ä¸åšä»»ä½•ç‰¹æ®Šè™•ç†
    - è¼¸å‡º: Clash é…ç½®çš„è¼¸å‡ºç¶“éæ¿¾ä»¥ä¿è­‰åªå«æœ‰å·²è¢«æ”¯æ´çš„ Proxy é¡å‹, å…¶é¤˜èˆ‡ Clash Meta ç„¡ç•°.
  
  - **å…§éƒ¨é™¤éŒ¯ç”¨æ ¼å¼**: 
  
    åƒ…ä¾›é™¤éŒ¯, å°‡æœƒåœ¨æœªä¾†çš„ä»»æ„æŸå€‹æ™‚é–“é»åšå‡ºç ´å£æ€§æ”¹å‹•æˆ–åˆªé™¤.

